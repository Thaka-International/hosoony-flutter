# ุตูุญุฉ ุงูููุงู ุงูููููุฉ - ุฅุนุงุฏุฉ ุงูุชุตููู ุงููุงููุฉ

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุชุตููู ุจุงูุชุชุงุจุน (Sequential Design)
โ **ุงููููุฉ ุงูุฃููู ููุท**: ุชุธูุฑ ููุชูุญุฉ ูููุตูุฉ ูุงููุฉ  
โ **ุงูููุงู ุงูุฃุฎุฑู**: ุชุธูุฑ ูุฃุฑูุงู ูุน ุนูุงูุฉ `+` ูููุชุญ  
โ **ุงูุชููู**: ุนูุฏ ูุชุญ ูููุฉ ุฃุฎุฑูุ ุชูุบูู ุงูุณุงุจูุฉ ุชููุงุฆูุงู

### 2. ุงูุนุฏุงุฏ ุงูุฒููู (Timer Functionality)
โ **ุฒุฑ ุงูุจุฏุก**: ูุจุฏุฃ ุชูููุฐ ุงููููุฉ ูุจุฏุก ุงูุนุฏุงุฏ  
โ **ุนุฑุถ ุงูููุช**: ูุธูุฑ ุงูููุช ุงููุณุชุบุฑู ุจุดูู ูุจุงุดุฑ ููุญุธู  
โ **ุฅููุงู ุชููุงุฆู**: ุนูุฏ ุฅููุงุก ุงููููุฉ ูุชููู ุงูุนุฏุงุฏ

### 3. ูุธุงู ุฅููุงุก ุงูููุงู
โ **Popup ุชุฃููุฏ**: ูุธูุฑ ุนูุฏ ุงูุถุบุท ุนูู "ุฅุชูุงู ุงููููุฉ"  
โ **ุนุฑุถ ุงูููุช ุงููุณุชุบุฑู**: ูู ุงูู popup  
โ **ุชุฃููุฏ ุงูุฅุชูุงู**: ุฒุฑ ุชุฃููุฏ ูุจู ุงูุญูุธ ุงูููุงุฆู

### 4. ุงูุชุฃุซูุฑุงุช ุงูุชุดุฌูุนูุฉ
โ **ุฅูุฌุงุฒ ูู ุงูููุช**: ุฑุณุงูุฉ ูุน ikon ๐ + dialog ุงุญุชูุงูู  
โ **ุฅูุฌุงุฒ ุจุนุฏ ุงูููุช**: ุฑุณุงูุฉ ุนุงุฏูุฉ โ  
โ **ุฑุณุงุฆู ูุฎุชููุฉ**: ุญุณุจ ุชูููุช ุงูุฅูุฌุงุฒ

### 5. ุชุบููุฑุงุช ุงููุงุฌูุฉ
โ **"ูู ุงููุตู" โ "ูู ุงูุญููุฉ"**: ุชุบููุฑ ุงููููุฉ ุญุณุจ ุงูุทูุจ  
โ **ุชุตููู ูุญุณูู**: ูุฑูุช ุฌูููุฉ ูุน ุฃููููุงุช ูุงุถุญุฉ  
โ **ุฃููุงู ูููุฒุฉ**: ูู ููุน ูููุฉ ูู ููู

## ูููู ุงูู API

### Response Format:
```json
{
  "date": "2025-10-26",
  "class_id": 1,
  "tasks": [
    {
      "task_id": 1,
      "task_key": "hifz_surah_al_fatiha",
      "task_name": "ุญูุธ ุณูุฑุฉ ุงููุงุชุญุฉ",
      "task_type": "hifz",
      "task_location": "in_class",
      "points_weight": 10,
      "duration_minutes": 20,
      "completed": false,
      "proof_type": "none",
      "notes": null,
      "quantity": 1,
      "assignment_order": 1
    }
  ],
  "existing_log": null,
  "message": null
}
```

### Submit Format:
```json
{
  "log_date": "2025-10-26",
  "tasks": [{
    "id": 1,
    "status": "completed",
    "duration_minutes": 15,
    "quantity": 1
  }]
}
```

## ุงูุญุงูุงุช ุงููุฎุชููุฉ ููููุงู

### 1. ูููุฉ ุบูุฑ ููุชููุฉ (ูุทููุฉ)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ [+] ุงููููุฉ 1            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 2. ูููุฉ ุบูุฑ ููุชููุฉ (ููุชูุญุฉ)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ุญูุธ ุณูุฑุฉ ุงููุงุชุญุฉ                   โ
โ    ุชุซุจูุช ุงููุตุงุจ (ุงูุซูุงุซูุงุช)            โ
โ โญ 10 ููุทุฉ  โฑ 20 ุฏูููุฉ  ๐ซ ูู ุงูุญููุฉ  โ
โ                                        โ
โ [โถ ุจุฏุก ุงููููุฉ]                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 3. ูููุฉ ููุฏ ุงูุชูููุฐ (ููุชูุญุฉ)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โถ ุญูุธ ุณูุฑุฉ ุงููุงุชุญุฉ                    โ
โ    ุชุซุจูุช ุงููุตุงุจ (ุงูุซูุงุซูุงุช)            โ
โ โญ 10 ููุทุฉ  โฑ 20 ุฏูููุฉ  ๐ซ ูู ุงูุญููุฉ  โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โฐ 00:15                               โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ [โ ุฅุชูุงู ุงููููุฉ]                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 4. ูููุฉ ููุชููุฉ (ูุทููุฉ)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โ ุงููููุฉ 1             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 5. ูููุฉ ููุชููุฉ (ููุชูุญุฉ)
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ โ ุญูุธ ุณูุฑุฉ ุงููุงุชุญุฉ                     โ
โ    ุชุซุจูุช ุงููุตุงุจ (ุงูุซูุงุซูุงุช)            โ
โ โญ 10 ููุทุฉ  โฑ 20 ุฏูููุฉ  ๐ซ ูู ุงูุญููุฉ  โ
โ                                        โ
โ [ุฃูููุชูุง]                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ููุทู ุงูุฅูุฌุงุฒ

### ุงูุชุญูู ูู ุงูุฅูุฌุงุฒ ูู ุงูููุช:
```dart
final duration = task['duration_minutes'] ?? 20;
final minutesSpent = elapsedSeconds ~/ 60;
final wasOnTime = minutesSpent <= duration;
```

### ุฅุฑุณุงู ุงูุจูุงูุงุช ููู API:
```dart
await ApiService.submitDailyTasks({
  'log_date': DateTime.now().toIso8601String().split('T')[0],
  'tasks': [{
    'id': taskId,
    'status': 'completed',
    'duration_minutes': elapsedSeconds ~/ 60,
    'quantity': 1,
  }]
});
```

## ุงูุชุฃุซูุฑุงุช ูุงูุญูุงุฑุงุช

### 1. Dialog ุงูุชุฃููุฏ
```dart
AlertDialog(
  title: "ุฅุชูุงู ุงููููุฉ",
  content: "ุงูููุช ุงููุณุชุบุฑู: 00:15",
  actions: [
    TextButton("ุฅูุบุงุก"),
    ElevatedButton("ุชุฃููุฏ ุงูุฅุชูุงู"),
  ],
)
```

### 2. Dialog ุงูุงุญุชูุงู (ููููุงู ูู ุงูููุช)
```dart
Dialog(
  "๐ ููุชุงุฒ!",
  "ุฃูููุช ุงููููุฉ ูู ุงูููุช ุงููุญุฏุฏ",
  auto-close after 2 seconds
)
```

### 3. Snackbar ุงูุฑุณุงุฆู
- **ูู ุงูููุช**: ๐ ูุจุฑูู! ุฃูููุช ุงููููุฉ ูู ุงูููุช ุงููุญุฏุฏ!
- **ุจุนุฏ ุงูููุช**: โ ุชู ุฅููุงู ุงููููุฉ ุจูุฌุงุญ

## ุงููููุงุช ุงูุฌุฏูุฏุฉ

1. **`lib/features/student/pages/daily_tasks_page_new.dart`** (716 lines)
   - ุตูุญุฉ ููุงู ูุงููุฉ ูุน ุนุฏุงุฏ ุฒููู
   - ูุธุงู ุงูุชุชุงุจุน ูุงูุงููุดุงู
   - ุชุฃุซูุฑุงุช ุงูุฅูุฌุงุฒ

2. **ุชุญุฏูุซ ูู `lib/core/router/app_router.dart`**
   - ุงุณุชุฎุฏุงู ุตูุญุฉ ุฌุฏูุฏุฉ

3. **ุชุญุฏูุซ ูู `lib/services/api_service.dart`**
   - ุฏุนู submit ูุน error handling

## ุงูููุฒุงุช ุงูุฎุงุตุฉ

### โ ุงูุนุฏุงุฏ ุงูุฒููู
- ูุนูู ูู ุงูุฎูููุฉ
- ุชุญุฏูุซ ูุจุงุดุฑ ูู ุซุงููุฉ
- ุญูุธ ุงูููุช ุงูููุงุฆู

### โ ูุธุงู ุงูููุงุท
- ุฌุงูุฒ ูููุธุงู ุงููุณุชูุจูู
- ูุญุณุจ ุงูููุช ุงููุณุชุบุฑู
- ูุฑุณู ุงูุจูุงูุงุช ููู API

### โ UX ูุญุณูู
- ูููุฉ ูุงุญุฏุฉ ููุท ููุชูุญุฉ
- ุงูุชูุงู ุณูุณ ุจูู ุงูููุงู
- ุชุฃููุฏุงุช ูุงุถุญุฉ ูุจู ุงูุฅุชูุงู

## ุงูุชุญุณููุงุช ุนูู ุงููุณุฎุฉ ุงูุณุงุจูุฉ

1. โ **ุงูุชุชุงุจุน**: ุจุฏูุงู ูู ูุชุญ ุฌููุน ุงูููุงู
2. โ **ุงูุนุฏุงุฏ ุงูุฒููู**: ุจุฏูุงู ูู ุฒุฑ ุงูุฅููุงู ุงูุจุณูุท
3. โ **"ูู ุงูุญููุฉ"**: ุจุฏูุงู ูู "ูู ุงููุตู"
4. โ **ุชุฃุซูุฑุงุช ุงูุฅูุฌุงุฒ**: ุชุดุฌูุน ููุทูุงุจ
5. โ **Popup ุชุฃููุฏ**: ุชุฃููุฏ ูุจู ุงูุฅุชูุงู
6. โ **ูุนูููุงุช ุฃูุถุญ**: ุชูุงุตูู ุฃูุซุฑ ูู ุงููุงุฑุฏ

## ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

โ ุตูุญุฉ ููุงู ุชูุงุนููุฉ ูุงููุฉ  
โ ุนุฏุงุฏ ุฒููู ูุนูู ูู ุงูููุช ุงููุนูู  
โ ูุธุงู ููุงุท ุฌุงูุฒ ููุนูู  
โ ุชุฃุซูุฑุงุช ุชุดุฌูุนูุฉ ููุทูุงุจ  
โ ุชุตููู ุนุฑุจู ุงุญุชุฑุงูู  



